<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>网络抖动与Jitter Buffer详解 | 我的博客</title><meta name=keywords content="网络传输,实时通信,音视频传输,网络抖动,Jitter Buffer,RTP"><meta name=description content="深入解析网络抖动(Jitter)的原理、计算方法及其在实时音视频传输中的影响，以及Jitter Buffer的工作原理和优化策略"><meta name=author content="徐亚飞"><link rel=canonical href=https://xuyafei.github.io/personal-site/posts/network_jitter_buffer/><link crossorigin=anonymous href=/personal-site/assets/css/stylesheet.93f625d739f1d6a5c6f20c146bc6a8d26b233492b34b2220c54b12fd46a04ded.css integrity="sha256-k/Yl1znx1qXG8gwUa8ao0msjNJKzSyIgxUsS/UagTe0=" rel="preload stylesheet" as=style><link rel=icon href=https://xuyafei.github.io/personal-site/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://xuyafei.github.io/personal-site/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://xuyafei.github.io/personal-site/favicon-32x32.png><link rel=apple-touch-icon href=https://xuyafei.github.io/personal-site/apple-touch-icon.png><link rel=mask-icon href=https://xuyafei.github.io/personal-site/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://xuyafei.github.io/personal-site/posts/network_jitter_buffer/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAYQHy+K8nqKdr1EzvFzSQC+TAXx6gNQgoRxKtj+P9vvCCQTRWiV crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}],throwOnError:!1})})</script><script>MathJax={tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}}</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><meta property="og:url" content="https://xuyafei.github.io/personal-site/posts/network_jitter_buffer/"><meta property="og:site_name" content="我的博客"><meta property="og:title" content="网络抖动与Jitter Buffer详解"><meta property="og:description" content="深入解析网络抖动(Jitter)的原理、计算方法及其在实时音视频传输中的影响，以及Jitter Buffer的工作原理和优化策略"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-22T00:00:00+00:00"><meta property="article:modified_time" content="2024-04-22T00:00:00+00:00"><meta property="article:tag" content="网络传输"><meta property="article:tag" content="实时通信"><meta property="article:tag" content="音视频传输"><meta property="article:tag" content="网络抖动"><meta property="article:tag" content="Jitter Buffer"><meta property="article:tag" content="RTP"><meta name=twitter:card content="summary"><meta name=twitter:title content="网络抖动与Jitter Buffer详解"><meta name=twitter:description content="深入解析网络抖动(Jitter)的原理、计算方法及其在实时音视频传输中的影响，以及Jitter Buffer的工作原理和优化策略"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章","item":"https://xuyafei.github.io/personal-site/posts/"},{"@type":"ListItem","position":2,"name":"网络抖动与Jitter Buffer详解","item":"https://xuyafei.github.io/personal-site/posts/network_jitter_buffer/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"网络抖动与Jitter Buffer详解","name":"网络抖动与Jitter Buffer详解","description":"深入解析网络抖动(Jitter)的原理、计算方法及其在实时音视频传输中的影响，以及Jitter Buffer的工作原理和优化策略","keywords":["网络传输","实时通信","音视频传输","网络抖动","Jitter Buffer","RTP"],"articleBody":"网络抖动与Jitter Buffer详解 一、网络抖动（Jitter）基础 1. 基本概念 Jitter是指连续接收的RTP包之间到达时间的不稳定性。即：包与包之间的间隔时间发生波动，这可能导致音视频播放时出现\"卡顿\"“破音\"或\"花屏”。\n2. 实例说明 假设一个音频流每20ms发一个RTP包：\n理想情况：客户端每20ms收到一个RTP包 实际情况（有jitter）： 第1包：20ms后到达 第2包：25ms后到达（延迟了） 第3包：15ms后到达（提前了） 虽然没有丢包，但由于间隔不一致，接收端播放就变得不流畅。\n3. Jitter的重要性 音视频数据是实时连续的，如果jitter很大：\n需要更大的jitter buffer来重新排序、平滑播放 会增加延迟，影响实时性 jitter spike（剧烈抖动）会直接影响用户体验 二、Jitter的计算方法 1. RTP中的Jitter估算 RTP协议建议如下的估算公式（用于RTCP报告）：\n假设：\n$R_i$：第i个包的实际接收时间 $S_i$：第i个包的RTP时间戳（按采样时钟计算） $D_i = (R_i - R_{i-1}) - (S_i - S_{i-1})$：间隔差值 Jitter的估计采用指数加权平均： $$ Jitter = Jitter_{prev} + \\frac{|D_i| - Jitter_{prev}}{16} $$\n2. Jitter的评估标准 Jitter值（音频RTP） 网络状况 \u003c 20ms（≈160帧单位） 非常好 20ms~50ms 可接受 50ms~100ms 明显波动，需要大buffer \u003e100ms 严重不稳定，可能影响同步 三、RTCP丢包统计 1. RTCP RR中的丢包相关字段 字段名 含义 fraction_lost 最近一段时间内丢包的比例（0~255） cumulative_lost 总丢包数（自会话开始以来） extended_highest_seq_num 接收到的最大序列号 jitter 当前估算的jitter 2. 丢包率计算 假设：\nexpected：期望收到的包数（根据最大序列号和起始号计算） received：实际收到的包数 则： $$ cumulative_lost = expected - received fraction_lost = \\frac{expected_in_interval - received_in_interval}{expected_in_interval} \\times 256 $$\n3. 实际应用示例 RTP流编号从1000开始，连续发送，RTCP接收端记录：\n接收到的最大序号是1100 实际收到95个包 计算：\nexpected = 1100 - 1000 + 1 = 101 received = 95 cumulative_lost = 6 fraction_lost = (6 / 101) * 256 ≈ 15.2 ≈ 15（向下取整） 四、Jitter Buffer工作原理 1. 基本功能 Jitter Buffer是接收端的一个缓冲区，用来：\n对齐RTP包顺序（因为网络可能乱序） 平滑包到达时间（处理jitter波动） 按稳定节奏交给解码器或播放器，保障音画流畅 2. 丢包判断机制 核心机制：\n每个RTP包有序列号（sequence number） jitter buffer会跟踪当前播放进度 如果包在\"截止时间\"仍未到达，就会判断为\"丢失\" 处理方式：\n跳过 插入静音（音频） 插帧/重复帧（视频） 或请求重传（如果支持NACK） 3. 平滑机制示例 包到达时间：\n包100到达：100ms 包101到达：140ms 包102到达：120ms jitter buffer会\"缓存一段\"，再匀速输出，如：每20ms输出一个包。\n五、Jitter Buffer实现细节 1. 缓冲区大小计算 $$ BufferSize = BaseDelay + JitterFactor \\times CurrentJitter $$ 其中：\nBaseDelay：基础延迟（通常20-30ms） JitterFactor：抖动因子（通常1.5-2.0） CurrentJitter：当前估算的抖动值 2. Opus编码器的抗抖策略 2.1 帧时间灵活性 Opus支持多种帧长：\n2.5ms, 5ms, 10ms, 20ms（常用）, 40ms, 60ms 帧长选择的影响：\n短帧长：实时性强，但易受jitter影响 长帧长：抗jitter能力强，但延迟增加 2.2 冗余机制 FEC（前向纠错）：嵌入上一帧的简化版本 可根据网络状况决定是否等待FEC数据 2.3 与Jitter Buffer的配合策略 场景 jitter buffer行为 Opus解码器行为 正常收包 按时输出音频 正常解码 轻微丢包 插值掩盖（丢一帧） 使用PLC（假数据） 丢1帧但有FEC 等一个RTT，用下一帧里的FEC解上帧 opus_decode(…, fec=1) 连续丢多帧 插值+静音补帧 降低体验 2.4 最佳实践：20ms帧长选择 为什么视频会议中Opus通常设置为20ms帧长：\n实时性（延迟可控）\n20ms延迟是行业标准 总延迟可控制在150ms内 更长帧长会导致端到端延迟明显上升 音质（语音稳定性）\n相比更短帧长，音质更自然稳定 20ms是人耳对语音连续性感知的\"舒适窗口\" FEC支持\n帧长≥20ms才能开启FEC 视频会议丢包率1-5%时，FEC很重要 带宽效率\n每秒50帧，控制粒度合适 系统开销适中 帧长 延迟 音质 抗丢包 CPU/带宽 2.5ms~10ms 低 偏差 差 高开销 20ms ★优秀 ★优秀 ★优秀 ★适中 40ms~60ms 高 稍优 好 带宽略省但延迟不可接受 3. 自适应调整策略 网络状况 调整策略 稳定 减小缓冲区，降低延迟 波动 增大缓冲区，提高稳定性 严重抖动 最大缓冲区，保证流畅性 4. 性能优化 动态缓冲区大小 智能丢包处理 预测性缓冲 优先级处理 六、实际应用场景 1. 音频处理 静音插入 波形平滑 音量渐变 PLC（丢包隐藏） FEC（前向纠错） 2. 视频处理 帧重复 运动补偿 场景切换处理 3. 网络适应 带宽估计 码率调整 拥塞控制 七、最佳实践 1. 配置建议 初始缓冲区：2-3帧 最大缓冲区：根据应用场景调整 自适应阈值：动态调整 Opus帧长：推荐20ms FEC启用：帧长≥20ms时建议开启 2. 监控指标 缓冲区使用率 丢包率 延迟变化 抖动趋势 3. 优化策略 预测性缓冲 智能丢包处理 动态调整机制 FEC与PLC的合理使用 帧长自适应调整 八、总结 1. 关键指标 指标 含义 影响 Jitter 包之间接收时间的波动 导致播放不连贯，需要缓冲 丢包统计 RTCP收集的packet loss数据 可用于自适应码率、请求重传等 帧长选择 Opus编码帧长度 影响延迟、音质和抗丢包能力 2. 实际效果 jitter小 → buffer可以很小，延迟低 jitter大 → buffer增大，延迟升高，但能保持流畅 jitter spike → 若无buffer兜底，音画立即卡顿 3. 应用价值 实时通信质量保障 流媒体传输优化 音视频同步控制 自适应编码策略 参考文献：\n“RTP: Audio and Video for the Internet” by Colin Perkins “Real-Time Communication with WebRTC” by Salvatore Loreto “Network Performance Analysis” by Thomas Bonald “Audio Signal Processing and Coding” by Andreas Spanias “Digital Video Processing” by A. Murat Tekalp “Internetworking with TCP/IP” by Douglas E. Comer “Computer Networks” by Andrew S. Tanenbaum “Multimedia Communications” by Fred Halsall “Streaming Media” by Geoff Huston “The WebRTC Book” by Alan B. Johnston ","wordCount":"407","inLanguage":"en","datePublished":"2024-04-22T00:00:00Z","dateModified":"2024-04-22T00:00:00Z","author":{"@type":"Person","name":"徐亚飞"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xuyafei.github.io/personal-site/posts/network_jitter_buffer/"},"publisher":{"@type":"Organization","name":"我的博客","logo":{"@type":"ImageObject","url":"https://xuyafei.github.io/personal-site/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://xuyafei.github.io/personal-site/ accesskey=h title="我的博客 (Alt + H)">我的博客</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://xuyafei.github.io/personal-site/categories/ title=分类><span>分类</span></a></li><li><a href=https://xuyafei.github.io/personal-site/tags/ title=标签><span>标签</span></a></li><li><a href=https://xuyafei.github.io/personal-site/archives/ title=归档><span>归档</span></a></li><li><a href=https://xuyafei.github.io/personal-site/search/ title=搜索><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://xuyafei.github.io/personal-site/>Home</a>&nbsp;»&nbsp;<a href=https://xuyafei.github.io/personal-site/posts/>文章</a></div><h1 class="post-title entry-hint-parent">网络抖动与Jitter Buffer详解</h1><div class=post-description>深入解析网络抖动(Jitter)的原理、计算方法及其在实时音视频传输中的影响，以及Jitter Buffer的工作原理和优化策略</div><div class=post-meta><span title='2024-04-22 00:00:00 +0000 UTC'>April 22, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;徐亚飞</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%e4%b8%8ejitter-buffer%e8%af%a6%e8%a7%a3 aria-label="网络抖动与Jitter Buffer详解">网络抖动与Jitter Buffer详解</a><ul><li><a href=#%e4%b8%80%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8jitter%e5%9f%ba%e7%a1%80 aria-label=一、网络抖动（Jitter）基础>一、网络抖动（Jitter）基础</a><ul><li><a href=#1-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5 aria-label="1. 基本概念">1. 基本概念</a></li><li><a href=#2-%e5%ae%9e%e4%be%8b%e8%af%b4%e6%98%8e aria-label="2. 实例说明">2. 实例说明</a></li><li><a href=#3-jitter%e7%9a%84%e9%87%8d%e8%a6%81%e6%80%a7 aria-label="3. Jitter的重要性">3. Jitter的重要性</a></li></ul></li><li><a href=#%e4%ba%8cjitter%e7%9a%84%e8%ae%a1%e7%ae%97%e6%96%b9%e6%b3%95 aria-label=二、Jitter的计算方法>二、Jitter的计算方法</a><ul><li><a href=#1-rtp%e4%b8%ad%e7%9a%84jitter%e4%bc%b0%e7%ae%97 aria-label="1. RTP中的Jitter估算">1. RTP中的Jitter估算</a></li><li><a href=#2-jitter%e7%9a%84%e8%af%84%e4%bc%b0%e6%a0%87%e5%87%86 aria-label="2. Jitter的评估标准">2. Jitter的评估标准</a></li></ul></li><li><a href=#%e4%b8%89rtcp%e4%b8%a2%e5%8c%85%e7%bb%9f%e8%ae%a1 aria-label=三、RTCP丢包统计>三、RTCP丢包统计</a><ul><li><a href=#1-rtcp-rr%e4%b8%ad%e7%9a%84%e4%b8%a2%e5%8c%85%e7%9b%b8%e5%85%b3%e5%ad%97%e6%ae%b5 aria-label="1. RTCP RR中的丢包相关字段">1. RTCP RR中的丢包相关字段</a></li><li><a href=#2-%e4%b8%a2%e5%8c%85%e7%8e%87%e8%ae%a1%e7%ae%97 aria-label="2. 丢包率计算">2. 丢包率计算</a></li><li><a href=#3-%e5%ae%9e%e9%99%85%e5%ba%94%e7%94%a8%e7%a4%ba%e4%be%8b aria-label="3. 实际应用示例">3. 实际应用示例</a></li></ul></li><li><a href=#%e5%9b%9bjitter-buffer%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86 aria-label="四、Jitter Buffer工作原理">四、Jitter Buffer工作原理</a><ul><li><a href=#1-%e5%9f%ba%e6%9c%ac%e5%8a%9f%e8%83%bd aria-label="1. 基本功能">1. 基本功能</a></li><li><a href=#2-%e4%b8%a2%e5%8c%85%e5%88%a4%e6%96%ad%e6%9c%ba%e5%88%b6 aria-label="2. 丢包判断机制">2. 丢包判断机制</a></li><li><a href=#3-%e5%b9%b3%e6%bb%91%e6%9c%ba%e5%88%b6%e7%a4%ba%e4%be%8b aria-label="3. 平滑机制示例">3. 平滑机制示例</a></li></ul></li><li><a href=#%e4%ba%94jitter-buffer%e5%ae%9e%e7%8e%b0%e7%bb%86%e8%8a%82 aria-label="五、Jitter Buffer实现细节">五、Jitter Buffer实现细节</a><ul><li><a href=#1-%e7%bc%93%e5%86%b2%e5%8c%ba%e5%a4%a7%e5%b0%8f%e8%ae%a1%e7%ae%97 aria-label="1. 缓冲区大小计算">1. 缓冲区大小计算</a></li><li><a href=#2-opus%e7%bc%96%e7%a0%81%e5%99%a8%e7%9a%84%e6%8a%97%e6%8a%96%e7%ad%96%e7%95%a5 aria-label="2. Opus编码器的抗抖策略">2. Opus编码器的抗抖策略</a><ul><li><a href=#21-%e5%b8%a7%e6%97%b6%e9%97%b4%e7%81%b5%e6%b4%bb%e6%80%a7 aria-label="2.1 帧时间灵活性">2.1 帧时间灵活性</a></li><li><a href=#22-%e5%86%97%e4%bd%99%e6%9c%ba%e5%88%b6 aria-label="2.2 冗余机制">2.2 冗余机制</a></li><li><a href=#23-%e4%b8%8ejitter-buffer%e7%9a%84%e9%85%8d%e5%90%88%e7%ad%96%e7%95%a5 aria-label="2.3 与Jitter Buffer的配合策略">2.3 与Jitter Buffer的配合策略</a></li><li><a href=#24-%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b520ms%e5%b8%a7%e9%95%bf%e9%80%89%e6%8b%a9 aria-label="2.4 最佳实践：20ms帧长选择">2.4 最佳实践：20ms帧长选择</a></li></ul></li><li><a href=#3-%e8%87%aa%e9%80%82%e5%ba%94%e8%b0%83%e6%95%b4%e7%ad%96%e7%95%a5 aria-label="3. 自适应调整策略">3. 自适应调整策略</a></li><li><a href=#4-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96 aria-label="4. 性能优化">4. 性能优化</a></li></ul></li><li><a href=#%e5%85%ad%e5%ae%9e%e9%99%85%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af aria-label=六、实际应用场景>六、实际应用场景</a><ul><li><a href=#1-%e9%9f%b3%e9%a2%91%e5%a4%84%e7%90%86 aria-label="1. 音频处理">1. 音频处理</a></li><li><a href=#2-%e8%a7%86%e9%a2%91%e5%a4%84%e7%90%86 aria-label="2. 视频处理">2. 视频处理</a></li><li><a href=#3-%e7%bd%91%e7%bb%9c%e9%80%82%e5%ba%94 aria-label="3. 网络适应">3. 网络适应</a></li></ul></li><li><a href=#%e4%b8%83%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5 aria-label=七、最佳实践>七、最佳实践</a><ul><li><a href=#1-%e9%85%8d%e7%bd%ae%e5%bb%ba%e8%ae%ae aria-label="1. 配置建议">1. 配置建议</a></li><li><a href=#2-%e7%9b%91%e6%8e%a7%e6%8c%87%e6%a0%87 aria-label="2. 监控指标">2. 监控指标</a></li><li><a href=#3-%e4%bc%98%e5%8c%96%e7%ad%96%e7%95%a5 aria-label="3. 优化策略">3. 优化策略</a></li></ul></li><li><a href=#%e5%85%ab%e6%80%bb%e7%bb%93 aria-label=八、总结>八、总结</a><ul><li><a href=#1-%e5%85%b3%e9%94%ae%e6%8c%87%e6%a0%87 aria-label="1. 关键指标">1. 关键指标</a></li><li><a href=#2-%e5%ae%9e%e9%99%85%e6%95%88%e6%9e%9c aria-label="2. 实际效果">2. 实际效果</a></li><li><a href=#3-%e5%ba%94%e7%94%a8%e4%bb%b7%e5%80%bc aria-label="3. 应用价值">3. 应用价值</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h1 id=网络抖动与jitter-buffer详解>网络抖动与Jitter Buffer详解<a hidden class=anchor aria-hidden=true href=#网络抖动与jitter-buffer详解>#</a></h1><h2 id=一网络抖动jitter基础>一、网络抖动（Jitter）基础<a hidden class=anchor aria-hidden=true href=#一网络抖动jitter基础>#</a></h2><h3 id=1-基本概念>1. 基本概念<a hidden class=anchor aria-hidden=true href=#1-基本概念>#</a></h3><p>Jitter是指连续接收的RTP包之间到达时间的不稳定性。即：包与包之间的间隔时间发生波动，这可能导致音视频播放时出现"卡顿"&ldquo;破音"或"花屏&rdquo;。</p><h3 id=2-实例说明>2. 实例说明<a hidden class=anchor aria-hidden=true href=#2-实例说明>#</a></h3><p>假设一个音频流每20ms发一个RTP包：</p><ul><li>理想情况：客户端每20ms收到一个RTP包</li><li>实际情况（有jitter）：<ul><li>第1包：20ms后到达</li><li>第2包：25ms后到达（延迟了）</li><li>第3包：15ms后到达（提前了）</li></ul></li></ul><p>虽然没有丢包，但由于间隔不一致，接收端播放就变得不流畅。</p><h3 id=3-jitter的重要性>3. Jitter的重要性<a hidden class=anchor aria-hidden=true href=#3-jitter的重要性>#</a></h3><p>音视频数据是实时连续的，如果jitter很大：</p><ul><li>需要更大的jitter buffer来重新排序、平滑播放</li><li>会增加延迟，影响实时性</li><li>jitter spike（剧烈抖动）会直接影响用户体验</li></ul><h2 id=二jitter的计算方法>二、Jitter的计算方法<a hidden class=anchor aria-hidden=true href=#二jitter的计算方法>#</a></h2><h3 id=1-rtp中的jitter估算>1. RTP中的Jitter估算<a hidden class=anchor aria-hidden=true href=#1-rtp中的jitter估算>#</a></h3><p>RTP协议建议如下的估算公式（用于RTCP报告）：</p><p>假设：</p><ul><li>$R_i$：第i个包的实际接收时间</li><li>$S_i$：第i个包的RTP时间戳（按采样时钟计算）</li><li>$D_i = (R_i - R_{i-1}) - (S_i - S_{i-1})$：间隔差值</li></ul><p>Jitter的估计采用指数加权平均：
$$
Jitter = Jitter_{prev} + \frac{|D_i| - Jitter_{prev}}{16}
$$</p><h3 id=2-jitter的评估标准>2. Jitter的评估标准<a hidden class=anchor aria-hidden=true href=#2-jitter的评估标准>#</a></h3><table><thead><tr><th>Jitter值（音频RTP）</th><th>网络状况</th></tr></thead><tbody><tr><td>&lt; 20ms（≈160帧单位）</td><td>非常好</td></tr><tr><td>20ms~50ms</td><td>可接受</td></tr><tr><td>50ms~100ms</td><td>明显波动，需要大buffer</td></tr><tr><td>>100ms</td><td>严重不稳定，可能影响同步</td></tr></tbody></table><h2 id=三rtcp丢包统计>三、RTCP丢包统计<a hidden class=anchor aria-hidden=true href=#三rtcp丢包统计>#</a></h2><h3 id=1-rtcp-rr中的丢包相关字段>1. RTCP RR中的丢包相关字段<a hidden class=anchor aria-hidden=true href=#1-rtcp-rr中的丢包相关字段>#</a></h3><table><thead><tr><th>字段名</th><th>含义</th></tr></thead><tbody><tr><td>fraction_lost</td><td>最近一段时间内丢包的比例（0~255）</td></tr><tr><td>cumulative_lost</td><td>总丢包数（自会话开始以来）</td></tr><tr><td>extended_highest_seq_num</td><td>接收到的最大序列号</td></tr><tr><td>jitter</td><td>当前估算的jitter</td></tr></tbody></table><h3 id=2-丢包率计算>2. 丢包率计算<a hidden class=anchor aria-hidden=true href=#2-丢包率计算>#</a></h3><p>假设：</p><ul><li>expected：期望收到的包数（根据最大序列号和起始号计算）</li><li>received：实际收到的包数</li></ul><p>则：
$$
cumulative_lost = expected - received
fraction_lost = \frac{expected_in_interval - received_in_interval}{expected_in_interval} \times 256
$$</p><h3 id=3-实际应用示例>3. 实际应用示例<a hidden class=anchor aria-hidden=true href=#3-实际应用示例>#</a></h3><p>RTP流编号从1000开始，连续发送，RTCP接收端记录：</p><ul><li>接收到的最大序号是1100</li><li>实际收到95个包</li></ul><p>计算：</p><ul><li>expected = 1100 - 1000 + 1 = 101</li><li>received = 95</li><li>cumulative_lost = 6</li><li>fraction_lost = (6 / 101) * 256 ≈ 15.2 ≈ 15（向下取整）</li></ul><h2 id=四jitter-buffer工作原理>四、Jitter Buffer工作原理<a hidden class=anchor aria-hidden=true href=#四jitter-buffer工作原理>#</a></h2><h3 id=1-基本功能>1. 基本功能<a hidden class=anchor aria-hidden=true href=#1-基本功能>#</a></h3><p>Jitter Buffer是接收端的一个缓冲区，用来：</p><ul><li>对齐RTP包顺序（因为网络可能乱序）</li><li>平滑包到达时间（处理jitter波动）</li><li>按稳定节奏交给解码器或播放器，保障音画流畅</li></ul><h3 id=2-丢包判断机制>2. 丢包判断机制<a hidden class=anchor aria-hidden=true href=#2-丢包判断机制>#</a></h3><p>核心机制：</p><ul><li>每个RTP包有序列号（sequence number）</li><li>jitter buffer会跟踪当前播放进度</li><li>如果包在"截止时间"仍未到达，就会判断为"丢失"</li></ul><p>处理方式：</p><ul><li>跳过</li><li>插入静音（音频）</li><li>插帧/重复帧（视频）</li><li>或请求重传（如果支持NACK）</li></ul><h3 id=3-平滑机制示例>3. 平滑机制示例<a hidden class=anchor aria-hidden=true href=#3-平滑机制示例>#</a></h3><p>包到达时间：</p><ul><li>包100到达：100ms</li><li>包101到达：140ms</li><li>包102到达：120ms</li></ul><p>jitter buffer会"缓存一段"，再匀速输出，如：每20ms输出一个包。</p><h2 id=五jitter-buffer实现细节>五、Jitter Buffer实现细节<a hidden class=anchor aria-hidden=true href=#五jitter-buffer实现细节>#</a></h2><h3 id=1-缓冲区大小计算>1. 缓冲区大小计算<a hidden class=anchor aria-hidden=true href=#1-缓冲区大小计算>#</a></h3><p>$$
BufferSize = BaseDelay + JitterFactor \times CurrentJitter
$$
其中：</p><ul><li>BaseDelay：基础延迟（通常20-30ms）</li><li>JitterFactor：抖动因子（通常1.5-2.0）</li><li>CurrentJitter：当前估算的抖动值</li></ul><h3 id=2-opus编码器的抗抖策略>2. Opus编码器的抗抖策略<a hidden class=anchor aria-hidden=true href=#2-opus编码器的抗抖策略>#</a></h3><h4 id=21-帧时间灵活性>2.1 帧时间灵活性<a hidden class=anchor aria-hidden=true href=#21-帧时间灵活性>#</a></h4><p>Opus支持多种帧长：</p><ul><li>2.5ms, 5ms, 10ms, 20ms（常用）, 40ms, 60ms</li></ul><p>帧长选择的影响：</p><ul><li>短帧长：实时性强，但易受jitter影响</li><li>长帧长：抗jitter能力强，但延迟增加</li></ul><h4 id=22-冗余机制>2.2 冗余机制<a hidden class=anchor aria-hidden=true href=#22-冗余机制>#</a></h4><ul><li>FEC（前向纠错）：嵌入上一帧的简化版本</li><li>可根据网络状况决定是否等待FEC数据</li></ul><h4 id=23-与jitter-buffer的配合策略>2.3 与Jitter Buffer的配合策略<a hidden class=anchor aria-hidden=true href=#23-与jitter-buffer的配合策略>#</a></h4><table><thead><tr><th>场景</th><th>jitter buffer行为</th><th>Opus解码器行为</th></tr></thead><tbody><tr><td>正常收包</td><td>按时输出音频</td><td>正常解码</td></tr><tr><td>轻微丢包</td><td>插值掩盖（丢一帧）</td><td>使用PLC（假数据）</td></tr><tr><td>丢1帧但有FEC</td><td>等一个RTT，用下一帧里的FEC解上帧</td><td>opus_decode(&mldr;, fec=1)</td></tr><tr><td>连续丢多帧</td><td>插值+静音补帧</td><td>降低体验</td></tr></tbody></table><h4 id=24-最佳实践20ms帧长选择>2.4 最佳实践：20ms帧长选择<a hidden class=anchor aria-hidden=true href=#24-最佳实践20ms帧长选择>#</a></h4><p>为什么视频会议中Opus通常设置为20ms帧长：</p><ol><li><p>实时性（延迟可控）</p><ul><li>20ms延迟是行业标准</li><li>总延迟可控制在150ms内</li><li>更长帧长会导致端到端延迟明显上升</li></ul></li><li><p>音质（语音稳定性）</p><ul><li>相比更短帧长，音质更自然稳定</li><li>20ms是人耳对语音连续性感知的"舒适窗口"</li></ul></li><li><p>FEC支持</p><ul><li>帧长≥20ms才能开启FEC</li><li>视频会议丢包率1-5%时，FEC很重要</li></ul></li><li><p>带宽效率</p><ul><li>每秒50帧，控制粒度合适</li><li>系统开销适中</li></ul></li></ol><table><thead><tr><th>帧长</th><th>延迟</th><th>音质</th><th>抗丢包</th><th>CPU/带宽</th></tr></thead><tbody><tr><td>2.5ms~10ms</td><td>低</td><td>偏差</td><td>差</td><td>高开销</td></tr><tr><td>20ms</td><td>★优秀</td><td>★优秀</td><td>★优秀</td><td>★适中</td></tr><tr><td>40ms~60ms</td><td>高</td><td>稍优</td><td>好</td><td>带宽略省但延迟不可接受</td></tr></tbody></table><h3 id=3-自适应调整策略>3. 自适应调整策略<a hidden class=anchor aria-hidden=true href=#3-自适应调整策略>#</a></h3><table><thead><tr><th>网络状况</th><th>调整策略</th></tr></thead><tbody><tr><td>稳定</td><td>减小缓冲区，降低延迟</td></tr><tr><td>波动</td><td>增大缓冲区，提高稳定性</td></tr><tr><td>严重抖动</td><td>最大缓冲区，保证流畅性</td></tr></tbody></table><h3 id=4-性能优化>4. 性能优化<a hidden class=anchor aria-hidden=true href=#4-性能优化>#</a></h3><ul><li>动态缓冲区大小</li><li>智能丢包处理</li><li>预测性缓冲</li><li>优先级处理</li></ul><h2 id=六实际应用场景>六、实际应用场景<a hidden class=anchor aria-hidden=true href=#六实际应用场景>#</a></h2><h3 id=1-音频处理>1. 音频处理<a hidden class=anchor aria-hidden=true href=#1-音频处理>#</a></h3><ul><li>静音插入</li><li>波形平滑</li><li>音量渐变</li><li>PLC（丢包隐藏）</li><li>FEC（前向纠错）</li></ul><h3 id=2-视频处理>2. 视频处理<a hidden class=anchor aria-hidden=true href=#2-视频处理>#</a></h3><ul><li>帧重复</li><li>运动补偿</li><li>场景切换处理</li></ul><h3 id=3-网络适应>3. 网络适应<a hidden class=anchor aria-hidden=true href=#3-网络适应>#</a></h3><ul><li>带宽估计</li><li>码率调整</li><li>拥塞控制</li></ul><h2 id=七最佳实践>七、最佳实践<a hidden class=anchor aria-hidden=true href=#七最佳实践>#</a></h2><h3 id=1-配置建议>1. 配置建议<a hidden class=anchor aria-hidden=true href=#1-配置建议>#</a></h3><ul><li>初始缓冲区：2-3帧</li><li>最大缓冲区：根据应用场景调整</li><li>自适应阈值：动态调整</li><li>Opus帧长：推荐20ms</li><li>FEC启用：帧长≥20ms时建议开启</li></ul><h3 id=2-监控指标>2. 监控指标<a hidden class=anchor aria-hidden=true href=#2-监控指标>#</a></h3><ul><li>缓冲区使用率</li><li>丢包率</li><li>延迟变化</li><li>抖动趋势</li></ul><h3 id=3-优化策略>3. 优化策略<a hidden class=anchor aria-hidden=true href=#3-优化策略>#</a></h3><ul><li>预测性缓冲</li><li>智能丢包处理</li><li>动态调整机制</li><li>FEC与PLC的合理使用</li><li>帧长自适应调整</li></ul><h2 id=八总结>八、总结<a hidden class=anchor aria-hidden=true href=#八总结>#</a></h2><h3 id=1-关键指标>1. 关键指标<a hidden class=anchor aria-hidden=true href=#1-关键指标>#</a></h3><table><thead><tr><th>指标</th><th>含义</th><th>影响</th></tr></thead><tbody><tr><td>Jitter</td><td>包之间接收时间的波动</td><td>导致播放不连贯，需要缓冲</td></tr><tr><td>丢包统计</td><td>RTCP收集的packet loss数据</td><td>可用于自适应码率、请求重传等</td></tr><tr><td>帧长选择</td><td>Opus编码帧长度</td><td>影响延迟、音质和抗丢包能力</td></tr></tbody></table><h3 id=2-实际效果>2. 实际效果<a hidden class=anchor aria-hidden=true href=#2-实际效果>#</a></h3><ul><li>jitter小 → buffer可以很小，延迟低</li><li>jitter大 → buffer增大，延迟升高，但能保持流畅</li><li>jitter spike → 若无buffer兜底，音画立即卡顿</li></ul><h3 id=3-应用价值>3. 应用价值<a hidden class=anchor aria-hidden=true href=#3-应用价值>#</a></h3><ul><li>实时通信质量保障</li><li>流媒体传输优化</li><li>音视频同步控制</li><li>自适应编码策略</li></ul><hr><p><em>参考文献：</em></p><ol><li>&ldquo;RTP: Audio and Video for the Internet&rdquo; by Colin Perkins</li><li>&ldquo;Real-Time Communication with WebRTC&rdquo; by Salvatore Loreto</li><li>&ldquo;Network Performance Analysis&rdquo; by Thomas Bonald</li><li>&ldquo;Audio Signal Processing and Coding&rdquo; by Andreas Spanias</li><li>&ldquo;Digital Video Processing&rdquo; by A. Murat Tekalp</li><li>&ldquo;Internetworking with TCP/IP&rdquo; by Douglas E. Comer</li><li>&ldquo;Computer Networks&rdquo; by Andrew S. Tanenbaum</li><li>&ldquo;Multimedia Communications&rdquo; by Fred Halsall</li><li>&ldquo;Streaming Media&rdquo; by Geoff Huston</li><li>&ldquo;The WebRTC Book&rdquo; by Alan B. Johnston</li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://xuyafei.github.io/personal-site/tags/%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93/>网络传输</a></li><li><a href=https://xuyafei.github.io/personal-site/tags/%E5%AE%9E%E6%97%B6%E9%80%9A%E4%BF%A1/>实时通信</a></li><li><a href=https://xuyafei.github.io/personal-site/tags/%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BC%A0%E8%BE%93/>音视频传输</a></li><li><a href=https://xuyafei.github.io/personal-site/tags/%E7%BD%91%E7%BB%9C%E6%8A%96%E5%8A%A8/>网络抖动</a></li><li><a href=https://xuyafei.github.io/personal-site/tags/jitter-buffer/>Jitter Buffer</a></li><li><a href=https://xuyafei.github.io/personal-site/tags/rtp/>RTP</a></li></ul><nav class=paginav><a class=prev href=https://xuyafei.github.io/personal-site/posts/rtp_rtcp_protocol/><span class=title>« Prev</span><br><span>RTP/RTCP协议详解</span>
</a><a class=next href=https://xuyafei.github.io/personal-site/posts/network_adaptation/><span class=title>Next »</span><br><span>视频会议系统的网络自适应机制详解</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 网络抖动与Jitter Buffer详解 on x" href="https://x.com/intent/tweet/?text=%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%e4%b8%8eJitter%20Buffer%e8%af%a6%e8%a7%a3&amp;url=https%3a%2f%2fxuyafei.github.io%2fpersonal-site%2fposts%2fnetwork_jitter_buffer%2f&amp;hashtags=%e7%bd%91%e7%bb%9c%e4%bc%a0%e8%be%93%2c%e5%ae%9e%e6%97%b6%e9%80%9a%e4%bf%a1%2c%e9%9f%b3%e8%a7%86%e9%a2%91%e4%bc%a0%e8%be%93%2c%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%2cJitterBuffer%2cRTP"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 网络抖动与Jitter Buffer详解 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fxuyafei.github.io%2fpersonal-site%2fposts%2fnetwork_jitter_buffer%2f&amp;title=%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%e4%b8%8eJitter%20Buffer%e8%af%a6%e8%a7%a3&amp;summary=%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%e4%b8%8eJitter%20Buffer%e8%af%a6%e8%a7%a3&amp;source=https%3a%2f%2fxuyafei.github.io%2fpersonal-site%2fposts%2fnetwork_jitter_buffer%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 网络抖动与Jitter Buffer详解 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fxuyafei.github.io%2fpersonal-site%2fposts%2fnetwork_jitter_buffer%2f&title=%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%e4%b8%8eJitter%20Buffer%e8%af%a6%e8%a7%a3"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 网络抖动与Jitter Buffer详解 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fxuyafei.github.io%2fpersonal-site%2fposts%2fnetwork_jitter_buffer%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 网络抖动与Jitter Buffer详解 on whatsapp" href="https://api.whatsapp.com/send?text=%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%e4%b8%8eJitter%20Buffer%e8%af%a6%e8%a7%a3%20-%20https%3a%2f%2fxuyafei.github.io%2fpersonal-site%2fposts%2fnetwork_jitter_buffer%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 网络抖动与Jitter Buffer详解 on telegram" href="https://telegram.me/share/url?text=%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%e4%b8%8eJitter%20Buffer%e8%af%a6%e8%a7%a3&amp;url=https%3a%2f%2fxuyafei.github.io%2fpersonal-site%2fposts%2fnetwork_jitter_buffer%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 网络抖动与Jitter Buffer详解 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%e7%bd%91%e7%bb%9c%e6%8a%96%e5%8a%a8%e4%b8%8eJitter%20Buffer%e8%af%a6%e8%a7%a3&u=https%3a%2f%2fxuyafei.github.io%2fpersonal-site%2fposts%2fnetwork_jitter_buffer%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://xuyafei.github.io/personal-site/>我的博客</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>